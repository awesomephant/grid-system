(this["webpackJsonpgrid-system"]=this["webpackJsonpgrid-system"]||[]).push([[0],[,,,,,,,function(e){e.exports=JSON.parse('{"grids":{"3x4":{"columns":3,"rows":4,"letters":{"0":"110101101011","9":"111101111001","A":"010101111101","B":"110111101111","C":"111100100111","D":"110101101110","E":"111111100011","F":"111100111100","G":"011100101011","H":"101111101101","s":"000000000000","g":"000000000000","b":"000000000000","X":"000000000000","\xa3":"000000000000","=":"111000111000","-":"000000111000","+":"000010111010"}},"6x8":{"columns":6,"rows":8,"letters":{"A":"111111 111110 000000 000000 000000 000000 000000 000001"}}}}')},,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(9),r=a.n(s),l=(a(15),a(2)),o=a(3),c=a(6),p=a(4),h=a(1),d=a(5),u=(a(16),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.props.updateSetting(this.props.id,e.target.value)}},{key:"render",value:function(){var e={left:this.props.value/this.props.max*100+"%"};return i.a.createElement("div",{className:"setting slider"},i.a.createElement("label",{htmlFor:this.props.id},this.props.title),i.a.createElement("div",{className:"slider-track"},i.a.createElement("input",{className:"slider-input",onChange:this.handleChange,name:this.props.id,type:"range",min:this.props.min,max:this.props.max,step:this.props.step,value:this.props.value}),i.a.createElement("div",{style:e,className:"slider-value"},i.a.createElement("input",{className:"value-input",onChange:this.handleChange,name:this.props.id,type:"number",min:this.props.min,max:this.props.max,step:this.props.step,value:this.props.value}))))}}]),t}(i.a.Component)),g=(a(17),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).inputRef=i.a.createRef(),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.props.updateSetting(this.props.id,t)}},{key:"handleClick",value:function(e){this.inputRef.current.click()}},{key:"render",value:function(){return i.a.createElement("div",{className:"setting toggle"},i.a.createElement("label",{htmlFor:this.props.id},this.props.title||this.props.id),i.a.createElement("div",{"data-active":this.props.value,className:"toggle-body",onClick:this.handleClick},i.a.createElement("div",{className:"toggle-element"})),i.a.createElement("input",{ref:this.inputRef,onChange:this.handleChange,name:this.props.id,type:"checkbox",checked:this.props.value}))}}]),t}(i.a.Component)),m=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={selected:0},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=this.props.id;this.props.updateSetting(t,e.target.value)}},{key:"render",value:function(){var e=this.props.options.map((function(e){return i.a.createElement("option",{key:"op-".concat(e),value:e},e)}));return i.a.createElement("div",{className:"setting dropdown"},i.a.createElement("label",{htmlFor:this.props.id},this.props.title),i.a.createElement("select",{value:this.props.value,id:this.props.id,onChange:this.handleChange},e))}}]),t}(i.a.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(){this.props.clickHandler()}},{key:"render",value:function(){var e=null;return e=!0===this.props.value?i.a.createElement("svg",{viewBox:"0 0 24 24"}," ",i.a.createElement("path",{d:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"})):i.a.createElement("svg",{viewBox:"0 0 24 24"},"   ",i.a.createElement("path",{fill:"currentColor",d:"M2,5.27L3.28,4L20,20.72L18.73,22L13.9,17.17L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L12.5,15.76L10.88,14.15C10.87,14.39 10.77,14.64 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C8.12,13.77 7.63,12.37 7.72,11L2,5.27M12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.79,8.97L9.38,7.55L12.71,4.22M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.2,10.54 16.61,12.5 16.06,14.23L14.28,12.46C14.23,11.78 13.94,11.11 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"})),i.a.createElement("button",{"data-locked":this.props.value,onClick:this.handleClick,className:"lockToggle"},e)}}]),t}(i.a.Component),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={locked:!0,controlledSettings:[]},a.updateChildSetting=a.updateChildSetting.bind(Object(h.a)(a)),a.handleLockClick=a.handleLockClick.bind(Object(h.a)(a)),i.a.Children.map(a.props.children,(function(e){a.state.controlledSettings.push(e.props.id)})),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleLockClick",value:function(){!0===this.state.locked?this.setState({locked:!1}):this.setState({locked:!0})}},{key:"updateChildSetting",value:function(e,t){if(this.props.updateSetting(e,t),!0===this.state.locked)for(var a=0;a<this.state.controlledSettings.length;a++){var n=this.state.controlledSettings[a];console.log(e),console.log(n),n!==e&&this.props.updateSetting(n,t)}}},{key:"render",value:function(){var e=this,t=i.a.Children.map(this.props.children,(function(t){return i.a.cloneElement(t,{updateSetting:e.updateChildSetting})}));return i.a.createElement("div",{className:"setting sliderGroup"},i.a.createElement("span",null,this.props.title,i.a.createElement(v,{clickHandler:this.handleLockClick,value:this.state.locked})),t)}}]),t}(i.a.Component),f=(a(18),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"settings"},i.a.createElement(m,{updateSetting:this.props.updateSetting,options:["circle","rect"],value:this.props.settings.elementShape,id:"elementShape",title:"Element Shape"}),i.a.createElement(b,{updateSetting:this.props.updateSetting,title:"Global Scale"},i.a.createElement(u,{value:this.props.settings.globalScaleX,title:"X",id:"globalScaleX",min:"0.01",max:"10",step:".1"}),i.a.createElement(u,{value:this.props.settings.globalScaleY,title:"Y",id:"globalScaleY",min:"0.01",max:"10",step:".1"})),i.a.createElement(b,{updateSetting:this.props.updateSetting,title:"Element Scale"},i.a.createElement(u,{value:this.props.settings.elementScaleX,title:"X",id:"elementScaleX",min:"0.01",max:"10",step:".1"}),i.a.createElement(u,{value:this.props.settings.elementScaleY,title:"Y",id:"elementScaleY",min:"0.01",max:"10",step:".1"})),i.a.createElement(u,{updateSetting:this.props.updateSetting,value:this.props.settings.elementRotation,title:"Element Rotation",id:"elementRotation",min:"0",max:"360",step:".1"}),i.a.createElement(u,{updateSetting:this.props.updateSetting,value:this.props.settings.gridSkew,title:"Grid Skew",id:"gridSkew",min:"-5",max:"5",step:".001"}),i.a.createElement(g,{value:this.props.settings.gridActive,id:"gridActive",updateSetting:this.props.updateSetting,title:"Enable Grid"}))}}]),t}(i.a.Component)),C=a(7),k=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"circle"===this.props.shape?i.a.createElement("g",{transform:this.props.position},i.a.createElement("g",{transform:this.props.rotate},i.a.createElement("circle",{transform:this.props.transform,key:"element-"+this.props.id,className:"element",cx:this.props.width/2,cy:this.props.width/2,r:this.props.width}))):"rect"===this.props.shape?i.a.createElement("g",{transform:this.props.position},i.a.createElement("g",{transform:this.props.rotate},i.a.createElement("rect",{transform:this.props.transform,key:"element-"+this.props.id,className:"element",x:0,y:0,width:this.props.width,height:this.props.height}))):void 0}}]),t}(i.a.Component),S=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[],t=[],a=[],n=C.grids[this.props.settings.gridID],s=this.props.glyphScale;if(this.props.settings.gridActive){for(var r=0;r<this.props.settings.gridRows;r++){var l=0+this.props.settings.gridSkew*s/(this.props.settings.gridRows-1)*r+this.props.x,o=0+r*s+this.props.y,c=0+(this.props.settings.gridColumns-1)*s+this.props.settings.gridSkew*s/(this.props.settings.gridRows-1)*r+this.props.x,p=0+r*s+this.props.y;e.push(i.a.createElement("line",{vectorEffect:"non-scaling-stroke",key:"row-"+r,x1:l,y1:o,x2:c,y2:p}))}for(var h=0;h<this.props.settings.gridColumns;h++){var d=0+h*s+this.props.x,u=0+this.props.y,g=0+h*s+this.props.settings.gridSkew*s+this.props.x,m=0+(this.props.settings.gridRows-1)*s+this.props.y;t.push(i.a.createElement("line",{vectorEffect:"non-scaling-stroke",key:"col-"+h,x1:d,y1:u,x2:g,y2:m}))}}for(var v=n.letters[this.props.g].replace(/ /g,"").split(""),b=0;b<v.length;b++){var f=Math.floor(b/n.columns),S=[b-f*n.columns,f],y=30*this.props.settings.elementScaleX,E=30*this.props.settings.elementScaleY,O=(S[0]*s+0+this.props.settings.gridSkew*s/this.props.settings.gridRows*S[1])/this.props.settings.elementScaleX,j=(S[1]*s+0)/this.props.settings.elementScaleY,w="translate(".concat(this.props.x," ").concat(this.props.y,")"),x="rotate(".concat(this.props.settings.elementRotation,", ").concat(O*this.props.settings.elementScaleX,", ").concat(j*this.props.settings.elementScaleY,")"),L="translate(".concat(-y/2," ").concat(-E/2,") scale(").concat(this.props.settings.elementScaleX," ").concat(this.props.settings.elementScaleY,") translate(").concat(O," ").concat(j,")");"1"===v[b]&&a.push(i.a.createElement(k,{key:"shape-".concat(b),shape:this.props.settings.elementShape,rotate:x,transform:L,position:w,width:30,height:30,id:b}))}var N="scale(".concat(this.props.settings.globalScaleX," ").concat(this.props.settings.globalScaleY,")");return i.a.createElement("g",{transform:N},a,e,t)}}]),t}(i.a.Component),y=(a(19),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).defaultAlphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxzy1234567890-=+@\xa3$%&()",a.state={design:C,currentGlyph:"A",existingGlyphs:C.grids["3x4"].letters},a.handleGlyphClick=a.handleGlyphClick.bind(Object(h.a)(a)),a.togglePosition=a.togglePosition.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleGlyphClick",value:function(e){var t=e.target.getAttribute("data-g");this.setState((function(e){if(e.currentGlyph=t,!e.design.grids["3x4"].letters[t]){var a=new Array(e.design.grids["3x4"].rows*e.design.grids["3x4"].columns).fill(0);e.design.grids["3x4"].letters[t]=a.join("")}return e}))}},{key:"updateJSON",value:function(){C.grids["3x4"].letters[this.state.currentGlyph]=this.state.activePositions}},{key:"togglePosition",value:function(e){var t=this,a=this.state.design.grids["3x4"].letters[this.state.currentGlyph].split("");console.log(a);var n=e.target.getAttribute("data-i");"1"===a[n]?a[n]="0":a[n]="1",this.setState((function(e){return e.design.grids["3x4"].letters[t.state.currentGlyph]=a.join(""),e})),this.updateJSON()}},{key:"render",value:function(){for(var e=this,t=[],a=[],n=[],s=100,r=200,l=C.grids["3x4"].rows,o=C.grids["3x4"].columns,c=0;c<l;c++){var p=s+c*r,h=s+(o-1)*r,d=p;t.push(i.a.createElement("line",{vectorEffect:"non-scaling-stroke",key:"row-"+c,x1:100,y1:p,x2:h,y2:d}))}for(var u=0;u<o;u++){var g=s+u*r,m=g,v=s+(l-1)*r;a.push(i.a.createElement("line",{vectorEffect:"non-scaling-stroke",key:"col-"+u,x1:g,y1:100,x2:m,y2:v}))}for(var b=0,f=0,k=0;k<o*l;k++){b>o-1&&(b=0,f++);var S=s+b*r,y=s+f*r;n.push(i.a.createElement("circle",{"data-active":this.state.design.grids["3x4"].letters[this.state.currentGlyph].split("")[k],"data-i":k,onClick:this.togglePosition,r:80,cx:S,cy:y})),b++}var E=this.defaultAlphabet.split("").map((function(t){return i.a.createElement("li",{"data-active":t===e.state.currentGlyph,className:"editor-glyph"},i.a.createElement("button",{"data-g":t,onClick:e.handleGlyphClick},t))}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",{width:this.props.width,height:this.props.height,className:"editor-preview"},n,t,a),i.a.createElement("ul",{className:"editor-glyphs"},E),i.a.createElement("div",{className:"editor-json"},JSON.stringify(C)))}}]),t}(i.a.Component)),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={width:0,height:0,editModeEnabled:!1,settings:{gridID:"6x8",gridColumns:6,gridRows:8,gridSkew:1,gridActive:!0,padding:100,globalScaleX:1.5,globalScaleY:1.5,elementScaleX:.7,elementScaleY:.7,elementRotation:20,elementShape:"circle",smoothing:20}},a.updateSetting=a.updateSetting.bind(Object(h.a)(a)),a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(h.a)(a)),a.handleModeSwitch=a.handleModeSwitch.bind(Object(h.a)(a)),window.addEventListener("resize",a.updateWindowDimensions),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions()}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"handleModeSwitch",value:function(){this.setState((function(e){return e.editModeEnabled?e.editModeEnabled=!1:e.editModeEnabled=!0,e}))}},{key:"updateSetting",value:function(e,t){this.setState((function(a){return null!==a.settings[e]?a.settings[e]=t:console.error("Attempted to update non-existing setting ".concat(e)),a}))}},{key:"render",value:function(){var e=this,t=-250,a="A".split("").map((function(a,n){return t+=350*e.state.settings.globalScaleX,e.state.width,i.a.createElement(S,{key:"glyph-".concat(n),settings:e.state.settings,g:a,y:100,x:t,glyphScale:40})})),n=null;return n=this.state.editModeEnabled?i.a.createElement(y,{width:this.state.width,height:this.state.height}):i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",{className:"testPreview",width:this.state.width,height:this.state.height},a),"        ",i.a.createElement(f,{updateSetting:this.updateSetting,settings:this.state.settings})),i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"app-header"},i.a.createElement(g,{id:"editModeEnabled",title:"Test / Design",value:this.state.editModeEnabled,updateSetting:this.handleModeSwitch})),n)}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.3164e09a.chunk.js.map